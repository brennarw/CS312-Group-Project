<main>
 <table id="colorTable"></table>
    <script>
        const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'purple', 'grey', 'brown', 'black', 'teal'];
        const previousSelections = new Map(); 

        function createTable() {
            const table = document.getElementById('colorTable');
            table.innerHTML = '';
            const usedColors = new Set();

        for (let i = 0; i < colors.length; i++) {
            const row = document.createElement('tr');
            const leftColumn = document.createElement('td');
            leftColumn.style.width = '20%';

            const radioButton = document.createElement('input');
            radioButton.type = 'radio';
            radioButton.name = 'selectedColor';
            radioButton.onclick = () => unselectOtherRadioButtons(radioButton);
            leftColumn.appendChild(radioButton);

        const colorDropdown = document.createElement('select');
        colorDropdown.name = `color-${i}`;
        colorDropdown.dataset.rowIndex = i;
        colors.forEach(color => {
            const option = document.createElement('option');
            option.value = color;
            option.textContent = color.charAt(0).toUpperCase() + color.slice(1);
            colorDropdown.appendChild(option);
        });
        const defaultColor = colors[i];
        colorDropdown.value = defaultColor;
        usedColors.add(defaultColor);
        previousSelections.set(colorDropdown, defaultColor);
        colorDropdown.addEventListener('change', () => handleColorSelection(colorDropdown));

        leftColumn.appendChild(colorDropdown);
        row.appendChild(leftColumn);
        const rightColumn = document.createElement('td');
        rightColumn.style.width = '80%';
        row.appendChild(rightColumn);

        table.appendChild(row);
    }
}

function unselectOtherRadioButtons(currentRadioButton) {
    const radios = document.querySelectorAll('input[type="radio"]');
    radios.forEach(radio => {
        if (radio !== currentRadioButton) {
            radio.checked = false;
        }
    });
}

function handleColorSelection(changedDropdown) {
    const selectedColor = changedDropdown.value;
    const allDropdowns = document.querySelectorAll('select');
    for (const dropdown of allDropdowns) {
        if (dropdown !== changedDropdown && dropdown.value === selectedColor) {
            const previous = previousSelections.get(changedDropdown);
            changedDropdown.value = previous;
            alert(`Color "${selectedColor}" is already selected. Please choose a different color.`);
            return;
        }
    }

    previousSelections.set(changedDropdown, selectedColor);
}
    createTable();

    </script>
</main>

